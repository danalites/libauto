---
 task: wait-window-change
 desc: waiting 
 
 configs:
    options: ["autostart", "endless"]

 inputs:
    save: $env[HOME]/Desktop/timing.csv

 actions:
   - cmd.sleep(1s)

   # Instantiate a CSV as database
   - db.init($inputs[save], {{ {'headers':['app','time']} }}) => $session

   - window.is_active() => $w
   # Create a new CSV if not exist
   - db.read($csv, {{ {'key':$w[owner]} }}) => $stats

   # Increment the value by one (min)
   - data.write($csv, {{ {'key':$w[owner]}, 'value':$stats+1} }})